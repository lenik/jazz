<?xml version="1.0"?>
<project name="net.bodz.swt" default="default">

    <property environment="env" />
    <taskdef resource="net/bodz/bas/ant/task.properties"
             classpath="${env.JAVA_LIB}/net.bodz.bas.jar" />

    <propertybean name="project"
                  classname="net.bodz.bas.ant.ProjectInfo"
                  expandproperties="true" />

    <property name="distdir" value="${env.JAVA_LIB}" />
    <property name="distsrc" value="${env.JAVA_SRC}" />

    <target name="default" depends="dist">
    </target>

    <target name="dist" depends=":bin.jar, :src.jar">
        <copy todir="${distdir}">
            <fileset dir="${basedir}/lib">
                <exclude name="*-src.jar" />
            </fileset>
        </copy>
        <copy todir="${distsrc}">
            <fileset dir="${basedir}/lib">
                <include name="*-src.jar" />
            </fileset>
        </copy>
    </target>

    <target name=":bin.jar">
        <mkdir dir="lib" />
        <jar destfile="lib/net.bodz.swt.jar" update="true">
            <fileset dir="mod/Bundled Modules/bin" />
            <fileset dir="mod/Common Controls/bin" />
            <fileset dir="mod/Commons/bin" />
            <fileset dir="mod/GUI Framework/bin" />
            <fileset dir="mod/Geom Shapes/bin" />
            <fileset dir="mod/Presentation/bin" />
        </jar>
    </target>

    <target name=":src.jar">
        <mkdir dir="lib" />
        <jar destfile="lib/net.bodz.swt-src.jar" update="true">
            <fileset dir="mod/Bundled Modules/src" />
            <fileset dir="mod/Common Controls/src" />
            <fileset dir="mod/Commons/src" />
            <fileset dir="mod/GUI Framework/src" />
            <fileset dir="mod/Geom Shapes/src" />
            <fileset dir="mod/Presentation/src" />
        </jar>
    </target>

    <target name="clean">
        <delete verbose="true">
            <fileset dir="${basedir}/lib" includes="*.jar" />
        </delete>
    </target>

</project>
